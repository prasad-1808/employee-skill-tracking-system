// schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql" // or your preferred database provider
  url      = env("DATABASE_URL")
}

model Employee {
  EmployeeID    String   @id
  Firstname     String
  Lastname      String
  Designation   String
  YearOfJoining Int
  Password      String
  status        Boolean  @default(false)
  skills     Skill[]  @relation("EmployeeSkills")
}

model Course {
  CourseID   Int      @id @default(autoincrement())
  CourseName String
  CourseCode String
  Level      String
  skills     Skill[]
}

model Admin {
  AdminID      String   @id // Change AdminID to String
  AdminEmail   String   @unique
  AdminName    String
  AdminPassword String
}

model Skill {
  id             Int      @id @default(autoincrement())
  EmployeeID     String
  CourseID       Int
  Proficiency    String
  SkillType      SkillType // Enum to differentiate between certificate and assessment
  CertificateLink String?  // Optional field to store certificate link, used if SkillType is 'CERTIFICATE'
  ScoreObtained  Int?      // Optional field to store assessment score, used if SkillType is 'ASSESSMENT'
  Verified       Boolean   @default(false)

  employee       Employee  @relation("EmployeeSkills", fields: [EmployeeID], references: [EmployeeID], onDelete: Cascade)
  course         Course    @relation(fields: [CourseID], references: [CourseID])
}

enum SkillType {
  CERTIFICATE
  ASSESSMENT
}
